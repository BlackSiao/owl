# 了解Shell
首先Shell是一个由C语言编写的程序，用户通过一个程序来使用Linux。Shell语言即是一种命令语言，又是一种程序设计语言。

## Shell 和 Terminal的区别是什么
不妨从游戏的视角出发，在经典的辐射系列，玩家经常要去使用终端(Terminal)来进行某些操作，并且同一个设施里面也有多个终端机，彼此之间所拥有的权限也各不相同，但稍微对计算机史有一点了解的朋友就知道，这些终端彼此之间是共有一个计算机的，终端只是这个计算机的输入输出设备。

[辐射终端的图片]

而我们使用的Shell则是操作终端的工具，用户在终端编写的命令，首先会被Shell处理，然后转送到计算机，等计算机处理后再由Shell转送回终端。

[常见Shell的图片]

随着个人计算机的普及，Termianl和Shell的界限也随之淡化，常见的有:
- Linux：Bash,Shell
- Windows:PowerShell,CMD

# 完全开始前的Shell扫盲
虽然Shell脚本和Shell是不同的，但大家平时念叨的时候会把二者混为一谈，多注意一下就
好了。
同时使用Shell变成就像写如Python，php一样，一个文本编辑器+解释器就行了。接下来要>关注的是Bash，主要是它最主流，操作界面也最经典。

## Shell 脚本扫盲
- 方便的快捷键：
	- Ctrl+Alt+T： 打开终端
	- Ctrl+D： 关闭终端

- 一般的Linux脚本文件都会为其添加后缀.sh, 如： test.sh，但其实不加后缀也能用
- shebang: 脚本文件不只可以写bash的，还可以写python的，Linux如何知道
对哪个脚本文件使用哪个解释器呢？答案就在于脚本文件的第一行: #!/bin/bash  这一行被成为shebang行，里面标明了对于该脚本文件使用的解释器位置。为什么叫shebang呢？ 原因是'#!'的英语分别是sharp和bang。念快了就是shebang.

## 脚本的整个生命周期：
	- 新建脚本
	- 编写脚本内容
	- 为脚本赋予可执行权限： chmod +x myscript.sh
	- 执行脚本 ./myscript.sh
	(为什么不直接输入myscript.sh呢？答案是如果是./开头就明确
	让OS在当前目录查找并执行该脚本。如果是后者，则OS会去Path
	环境变量中查找。)

# 正式开始的Shell学习
## 基础操作
1.在bash里面为变量赋值的语法是:"foo=bash",调用变量要"$foo"。
要注意的是，**禁止使用等号隔开变量，如果使用空格来隔开，如"foo = bash"，则会产生歧义。
解释器会认为是要执行一个叫'foo'的程序，并把'='和'bash'作为参数传回给程序'foo'**

除了直接使用'$变量'的形式来调用变量以外，在某些情况下，为了方式表述不清，会选择在外面再添加一层花括号，如：{$变量}.
```
for skill in Ada Coffe Action Java; do
    echo "I am good at ${skill}Script"
done
```
如果不给skill变量加花括号，写成echo "I am good at $skillScript"，解释器就会把$skillScript当成一个变量（其值为空），代码执行结果就不是我们期望的样子了。

## 变量的其他设置
- 使用：readyonly命令，可以将变量定义为只读变量，如: 
```
color=white
readonly color
```
- 使用:unset命令，可以删除变量，变量被删除后就不能再次使用了，**unset命令无法删除只读变量**如:
```
unset color
```
- Bash中的字符串通过单引号和双引号来定义，但两者也有区别：
    - 使用单引号定义的字符串为原意字符串，里面包含的变量不会被转义,也就是说单引号里面有什么，就输出什么，不会改变。
    - 使用双引号定义的字符串会将其中的变量转义,如果里面有变量，就会把变量转换

- 使用declare或typeset命令可以定义整数变量: declare -i rules=12
- 环境变量：这些由OS或者用户设置的特殊变量，用于配置Shell的行为，并影响其执行环境，PATH变量会包含OS搜索可执行文件的路径: echo $PATH

3.bash作为脚本语言，也支持if,case,while,for这些控制流关键字。同样的，bash也
支持函数，如：
	mcd(){
		mkdir -p "$1"  //这里的$1表示这是脚本的第一个参数
		cd "$1"			//bash有别于其他编程语言的特点，bash有很多特殊变量
	}

## 常见的bash脚本特殊变量
- $0 - 脚本名
- $1 到 $9 - 脚本的参数。 $1 是第一个参数，依此类推。
- $@ - 所有参数
- $# - 参数个数
- $? - 前一个命令的返回值
- $$ - 当前脚本的进程识别码
- !! 完整的上一条命令，包括参数。常见应用：当你因为权限不足执行命令失败时，可以使用 sudo !! 再尝试一次。
$_ - 上一条命令的最后一个参数。如果你正在使用的是交互式 shell，你可以通过按下 Esc 之后键入 . 来获取这个值。

## 命令的输出
命令通常使用STDOUT来返回输出值，使用STDERR来返回错误及错误码，便于脚本以更加友好的方式来报告错误。返回码或退出状态是脚本/命令之间交流执行状态的方式。返回值0表示脚本正常运行，其他所有非0的返回值都表示有错误发生。

退出码可以搭配&&(与操作)和||(或操作)来使用，同一行的多个命令可以用;隔开。

## 使用变量获得命令的输出（命令替换）

如果执行 for file in $(ls) ，shell 首先将调用 ls ，然后遍历得到的这些返回值。

## shell工具
首先要明确一点，但遇到不熟悉的命令时，可以有两种举措： 
ls --help or man ls

区别是这样的： ls --help打开了ls命令内置的说明文档，较为简洁
 			  man ls 是打开了ls命令在man手册里面的详细说明

！！
man 手册写的那么详细，再无聊的程序员也不可能完全记住那些参数。于是有了
使用技巧：

(1)在打开man手册的情况下，输入：'/'就可以查找关键字，如：/hidden
(2)不想看man手册，直接使用 tldr<命令>，可以直接获取命令的简化说明，带有示例
(3)

## 通配符和花括号
- 当想用通配符进行匹配时，可以分别使用？和\*来来匹配任何一个或任意个字符。
- 花括号{}-当有一系列的指令，其中包括一段公共字串时，可以使用花括号
来自动展开这些命令。

## 继续学习常用的命令
- find命令：用于在shell上查找文件，它会递归的搜索符合条件的文件



